#pragma once

#include <SDL.h>
#include<vector>
#include "Map.h"
#include "Engine.h"
#include "Character.h"

class CollisionHandler
{
public:
	bool CheckCollision(SDL_Rect a, SDL_Rect b);
	bool MapCollision(SDL_Rect a);
	inline static CollisionHandler* GetInstance() { return s_Instance = (s_Instance != nullptr) ? s_Instance : new CollisionHandler; }


private:
	int map_tile[20][40] = {
   {47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47},
   {47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,11,18,18,18,18,18,18,18,18,18,18,18,18,18,18,47,47,47,47},
   {18,18,18,18,18,18,18,47,47,47,47,47,47,47,47,47,47,47,47,47,47,11,10,10,10,10,10,10,10,10,10,10,10,10,10,10,9,47,47,47},
   {10,10,10,10,10,10,17,18,18,18,18,18,18,18,18,18,18,18,18,18,18,19,10,10,10,10,10,10,10,10,10,10,10,10,10,10,9,47,47,47},
   {10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,9,47,47,47},
   {10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,9,47,47,47},
   {10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,9,47,47,47},
   {2,3,5,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,9,47,47,47},
   {10,11,5,13,1,2,3,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,9,47,47,47},
   {18,19,13,13,9,10,11,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,9,13,13,13},
   {5,5,13,1,10,10,11,10,10,10,10,1,2,3,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,9,13,13,13},
   {5,5,5,9,10,10,11,10,10,10,10,9,10,11,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,9,13,13,13},
   {5,5,5,9,10,10,11,10,10,10,10,17,18,19,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,9,13,13,13},
   {13,12,5,9,10,10,11,10,10,10,10,50,50,50,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,9,47,47,47},
   {13,13,5,9,10,10,11,10,10,10,1,2,2,2,3,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,9,47,47,47},
   {13,13,12,17,18,18,19,10,10,10,9,28,28,28,11,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,9,47,47,47},
   {35,10,10,10,10,10,10,10,10,10,9,28,28,28,11,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,9,47,47,47},
   {35,10,10,10,10,10,10,10,10,10,9,28,28,28,11,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,9,47,47,47},
   {35,10,10,10,10,10,10,10,10,10,9,28,28,28,11,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,9,47,47,47},
   {35,26,26,26,26,26,26,26,26,26,26,28,28,28,28,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,13,47,47,47}
	};
	//int** map_tile = Map::GetInstance()->GetMap();

	

	static CollisionHandler* s_Instance;
};


